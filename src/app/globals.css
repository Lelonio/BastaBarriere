@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
  --color-sidebar-ring: var(--sidebar-ring);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar: var(--sidebar);
  --color-chart-5: var(--chart-5);
  --color-chart-4: var(--chart-4);
  --color-chart-3: var(--chart-3);
  --color-chart-2: var(--chart-2);
  --color-chart-1: var(--chart-1);
  --color-ring: var(--ring);
  --color-input: var(--input);
  --color-border: var(--border);
  --color-destructive: var(--destructive);
  --color-accent-foreground: var(--accent-foreground);
  --color-accent: var(--accent);
  --color-muted-foreground: var(--muted-foreground);
  --color-muted: var(--muted);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-secondary: var(--secondary);
  --color-primary-foreground: var(--primary-foreground);
  --color-primary: var(--primary);
  --color-popover-foreground: var(--popover-foreground);
  --color-popover: var(--popover);
  --color-card-foreground: var(--card-foreground);
  --color-card: var(--card);
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
}

:root {
  --radius: 0.625rem;
  
  /* Palette Brand BastaBarriere - Alloy Orange Theme */
  --brand-50: #fef8f5;
  --brand-100: #fdf1ec;
  --brand-200: #f8e3d8;
  --brand-300: #f1d1c0;
  --brand-400: #e8b89f;
  --brand-500: hsl(24, 68%, 45%);        /* Alloy Orange - #B8652D */
  --brand-600: hsl(24, 68%, 40%);        /* Più scuro - #A65828 */
  --brand-700: hsl(24, 68%, 35%);        /* Ancora più scuro - #944B23 */
  --brand-800: hsl(24, 68%, 30%);        /* Molto scuro - #823E1E */
  --brand-900: hsl(24, 68%, 25%);        /* Quasi nero - #703119 */
  
  /* Palette Accessibilità - Blu Azzurri */
  --access-50: #f0f9ff;
  --access-100: #e0f2fe;
  --access-200: #bae6fd;
  --access-300: #7dd3fc;
  --access-400: #38bdf8;
  --access-500: #0ea5e9;
  --access-600: #0284c7;
  --access-700: #0369a1;
  --access-800: #075985;
  --access-900: #0c4a6e;
  
  /* Colori Stato */
  --success-50: #f0fdf4;
  --success-500: #16a34a;
  --success-600: #15803d;
  
  --warning-50: #fffbeb;
  --warning-500: #d97706;
  --warning-600: #c2410c;
  
  --danger-50: #fef2f2;
  --danger-500: #dc2626;
  --danger-600: #b91c1c;
  
  /* Variabili di sistema originali con override brand */
  --background: #FEFEFE;                  /* Bianco caldo */
  --foreground: hsl(24, 15%, 15%);        /* Marrone molto scuro - #2A2420 */
  --card: #FFFFFF;
  --card-foreground: hsl(24, 15%, 15%);
  --popover: #FFFFFF;
  --popover-foreground: hsl(24, 15%, 15%);
  --primary: hsl(24, 68%, 45%);           /* Alloy Orange */
  --primary-foreground: #FFFFFF;
  --secondary: hsl(24, 20%, 85%);          /* Beige chiaro */
  --secondary-foreground: hsl(24, 68%, 25%); /* Marrone scuro */
  --muted: hsl(24, 20%, 95%);             /* Grigio caldo */
  --muted-foreground: hsl(24, 10%, 45%);  /* Grigio marrone */
  --accent: hsl(24, 60%, 50%);            /* Arancione acceso */
  --accent-foreground: #FFFFFF;
  --destructive: hsl(0, 84%, 60%);        /* Rosso allarme */
  --border: hsl(24, 20%, 88%);            /* Bordo leggero */
  --input: hsl(24, 20%, 88%);             /* Input bordo */
  --ring: hsl(24, 68%, 45%);              /* Alloy Orange */
  --chart-1: hsl(24, 68%, 45%);           /* Alloy Orange */
  --chart-2: hsl(142, 76%, 36%);          /* Verde accessibilità */
  --chart-3: hsl(38, 92%, 50%);           /* Arancione sicurezza */
  --chart-4: hsl(24, 60%, 50%);           /* Arancione acceso */
  --chart-5: hsl(0, 84%, 60%);            /* Rosso allarme */
  --sidebar: #fdf1ec;                     /* Brand 100 */
  --sidebar-foreground: hsl(24, 15%, 15%);
  --sidebar-primary: hsl(24, 68%, 45%);   /* Alloy Orange */
  --sidebar-primary-foreground: #FFFFFF;
  --sidebar-accent: hsl(24, 20%, 85%);    /* Beige chiaro */
  --sidebar-accent-foreground: hsl(24, 68%, 25%);
  --sidebar-border: hsl(24, 20%, 88%);    /* Bordo leggero */
  --sidebar-ring: hsl(24, 68%, 45%);      /* Alloy Orange */
}

.dark {
  /* Background più scuro con hint del brand Alloy Orange */
  --background: hsl(24, 25%, 8%);          /* Molto scuro con hint arancione */
  --foreground: #FEFEFE;                  /* Bianco caldo */
  --card: hsl(24, 25%, 12%);              /* Card scure */
  --card-foreground: #FEFEFE;
  --popover: hsl(24, 25%, 12%);
  --popover-foreground: #FEFEFE;
  --primary: hsl(24, 68%, 55%);           /* Alloy Orange più chiaro per contrasto */
  --primary-foreground: hsl(24, 25%, 8%);  /* Background scuro */
  --secondary: hsl(24, 25%, 18%);         /* Secondary scuro */
  --secondary-foreground: #FEFEFE;
  --muted: hsl(24, 25%, 22%);             /* Muted scuro */
  --muted-foreground: hsl(24, 15%, 65%);  /* Testo muted */
  --accent: hsl(24, 68%, 50%);            /* Accent arancione */
  --accent-foreground: #FEFEFE;
  --destructive: hsl(0, 84%, 70%);        /* Rosso più vivido nel dark */
  --border: hsl(24, 25%, 20%);            /* Bordo scuro */
  --input: hsl(24, 25%, 20%);             /* Input scuro */
  --ring: hsl(24, 68%, 55%);              /* Alloy Orange più chiaro */
  --chart-1: hsl(24, 68%, 55%);           /* Alloy Orange più chiaro */
  --chart-2: hsl(142, 76%, 46%);          /* Verde più vivido */
  --chart-3: hsl(38, 92%, 60%);           /* Arancione più vivido */
  --chart-4: hsl(24, 68%, 50%);           /* Arancione acceso */
  --chart-5: hsl(0, 84%, 70%);            /* Rosso più vivido */
  --sidebar: hsl(24, 25%, 12%);           /* Card color */
  --sidebar-foreground: #FEFEFE;
  --sidebar-primary: hsl(24, 68%, 55%);   /* Alloy Orange più chiaro */
  --sidebar-primary-foreground: hsl(24, 25%, 8%);
  --sidebar-accent: hsl(24, 25%, 18%);    /* Secondary scuro */
  --sidebar-accent-foreground: #FEFEFE;
  --sidebar-border: hsl(24, 25%, 20%);    /* Bordo scuro */
  --sidebar-ring: hsl(24, 68%, 55%);      /* Alloy Orange più chiaro */
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Fix per z-index dei dialog sopra la mappa Leaflet */
@layer utilities {
  .dialog-z-index {
    z-index: 10000 !important;
  }
  
  /* Classi utility personalizzate per palette brand */
  .bg-brand {
    background-color: var(--brand-500);
  }
  
  .bg-brand-50 { background-color: var(--brand-50); }
  .bg-brand-100 { background-color: var(--brand-100); }
  .bg-brand-200 { background-color: var(--brand-200); }
  .bg-brand-300 { background-color: var(--brand-300); }
  .bg-brand-400 { background-color: var(--brand-400); }
  .bg-brand-500 { background-color: var(--brand-500); }
  .bg-brand-600 { background-color: var(--brand-600); }
  .bg-brand-700 { background-color: var(--brand-700); }
  .bg-brand-800 { background-color: var(--brand-800); }
  .bg-brand-900 { background-color: var(--brand-900); }
  
  .text-brand {
    color: var(--brand-500);
  }
  
  .text-brand-600 { color: var(--brand-600); }
  .text-brand-700 { color: var(--brand-700); }
  .text-brand-800 { color: var(--brand-800); }
  .text-brand-900 { color: var(--brand-900); }
  
  .border-brand {
    border-color: var(--brand-400);
  }
  
  .bg-access {
    background-color: var(--access-500);
  }
  
  .text-access {
    color: var(--access-500);
  }
  
  .bg-success {
    background-color: var(--success-500);
  }
  
  .bg-success-50 { background-color: var(--success-50); }
  .bg-success-100 { background-color: #dcfce7; }
  .bg-success-500 { background-color: var(--success-500); }
  .bg-success-600 { background-color: var(--success-600); }
  .bg-success-700 { background-color: #15803d; }
  .bg-success-800 { background-color: #166534; }
  .bg-success-900 { background-color: #14532d; }
  
  .text-success-500 { color: var(--success-500); }
  .text-success-600 { color: var(--success-600); }
  .text-success-700 { color: #15803d; }
  .text-success-800 { color: #166534; }
  .text-success-900 { color: #14532d; }
  
  .border-success-200 { border-color: #bbf7d0; }
  .border-success-700 { border-color: #15803d; }
  
  .bg-warning {
    background-color: var(--warning-500);
  }
  
  .bg-warning-50 { background-color: var(--warning-50); }
  .bg-warning-100 { background-color: #fef3c7; }
  .bg-warning-500 { background-color: var(--warning-500); }
  .bg-warning-600 { background-color: var(--warning-600); }
  .bg-warning-700 { background-color: #c2410c; }
  .bg-warning-800 { background-color: #9a3412; }
  .bg-warning-900 { background-color: #78350f; }
  
  .text-warning-500 { color: var(--warning-500); }
  .text-warning-600 { color: var(--warning-600); }
  .text-warning-700 { color: #c2410c; }
  .text-warning-800 { color: #9a3412; }
  .text-warning-900 { color: #78350f; }
  
  .border-warning-200 { border-color: #fde68a; }
  .border-warning-700 { border-color: #c2410c; }
  
  .bg-danger {
    background-color: var(--danger-500);
  }
  
  .bg-danger-50 { background-color: var(--danger-50); }
  .bg-danger-100 { background-color: #fee2e2; }
  .bg-danger-500 { background-color: var(--danger-500); }
  .bg-danger-600 { background-color: var(--danger-600); }
  .bg-danger-700 { background-color: #b91c1c; }
  .bg-danger-800 { background-color: #991b1b; }
  .bg-danger-900 { background-color: #7f1d1d; }
  
  .text-danger-500 { color: var(--danger-500); }
  .text-danger-600 { color: var(--danger-600); }
  .text-danger-700 { color: #b91c1c; }
  .text-danger-800 { color: #991b1b; }
  .text-danger-900 { color: #7f1d1d; }
  
  .border-danger-200 { border-color: #fecaca; }
  .border-danger-700 { border-color: #b91c1c; }
  
  .text-success {
    color: var(--success-500);
  }
  
  .bg-warning {
    background-color: var(--warning-500);
  }
  
  .text-warning {
    color: var(--warning-500);
  }
  
  .bg-danger {
    background-color: var(--danger-500);
  }
  
  .text-danger {
    color: var(--danger-500);
  }
  
  /* Stili specifici per i pulsanti principali */
  .btn-primary {
    background-color: var(--brand-500);
    color: var(--primary-foreground);
    border: 1px solid var(--brand-600);
  }
  
  .btn-primary:hover {
    background-color: var(--brand-600);
    border-color: var(--brand-700);
  }
  
  .btn-access {
    background-color: var(--access-500);
    color: white;
    border: 1px solid var(--access-600);
  }
  
  .btn-access:hover {
    background-color: var(--access-600);
    border-color: var(--access-700);
  }
  
  /* Assicura che i dialog shadcn/ui siano sopra la mappa */
  [data-radix-dialog-content] {
    z-index: 10000 !important;
  }
  
  [data-radix-dialog-overlay] {
    z-index: 9999 !important;
  }
  
  /* Fix per select dropdown sopra la mappa */
  [data-radix-select-content] {
    z-index: 10001 !important;
  }
  
  /* Fix CRITICO per select dentro i dialog - deve essere sopra tutto */
  [data-radix-dialog-content] [data-radix-select-content] {
    z-index: 10002 !important;
  }
  
  /* Fix specifico per i select con classe dialog-select-content */
  .dialog-select-content {
    z-index: 10002 !important;
    pointer-events: auto !important;
  }
  
  /* Fix per popover sopra la mappa */
  [data-radix-popover-content] {
    z-index: 10001 !important;
  }
  
  /* Fix per popover dentro i dialog */
  [data-radix-dialog-content] [data-radix-popover-content] {
    z-index: 10002 !important;
  }
  
  /* Fix per tooltip sopra la mappa */
  [data-radix-tooltip-content] {
    z-index: 10002 !important;
  }
  
  /* Fix per i popup di Leaflet */
  .leaflet-popup-pane {
    z-index: 1000 !important;
  }
  
  .leaflet-tooltip-pane {
    z-index: 1001 !important;
  }
  
  /* Assicura che i select siano cliccabili dentro i dialog */
  [data-radix-dialog-content] * {
    pointer-events: auto;
  }
  
  /* Forza i select content a essere cliccabili */
  [data-radix-select-content] {
    pointer-events: auto !important;
  }
  
  /* Fix specifico per i select trigger dentro i dialog */
  [data-radix-dialog-content] [data-radix-select-trigger] {
    pointer-events: auto !important;
    cursor: pointer !important;
  }
  
  /* Assicura che i select trigger siano sempre cliccabili */
  [data-radix-select-trigger] {
    pointer-events: auto !important;
    cursor: pointer !important;
  }
}
